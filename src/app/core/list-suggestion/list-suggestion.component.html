<div class="list-suggestion-container">
  <h2 class="page-title">Liste des suggestions</h2>
  
  <div class="search-container">
    <input 
      type="text" 
      class="search-input" 
      placeholder="Rechercher une suggestion"
      [(ngModel)]="searchText">
  </div>

  <!-- Filtres par statut -->
  <div class="filter-container">
    <button 
      class="filter-btn" 
      [class.active]="selectedStatus === 'all'"
      (click)="selectedStatus = 'all'">
      Toutes
    </button>
    <button 
      class="filter-btn filter-accepted" 
      [class.active]="selectedStatus === 'acceptee'"
      (click)="selectedStatus = 'acceptee'">
      Accept√©es
    </button>
    <button 
      class="filter-btn filter-refused" 
      [class.active]="selectedStatus === 'refusee'"
      (click)="selectedStatus = 'refusee'">
      Refus√©es
    </button>
    <button 
      class="filter-btn filter-pending" 
      [class.active]="selectedStatus === 'en_attente'"
      (click)="selectedStatus = 'en_attente'">
      En attente
    </button>
  </div>

  <!-- Liste des favoris (visible pour confirmer que √ßa fonctionne) -->
  <div *ngIf="favorites.length > 0" class="favorites-section">
    <h3 class="favorites-title">Mes favoris ({{ favorites.length }})</h3>
    <div class="favorites-list">
      <div *ngFor="let fav of favorites" class="favorite-item">
        <span class="favorite-title">{{ fav.title }}</span>
        <button class="btn-remove" (click)="removeFromFavorites(fav)" title="Retirer des favoris">‚úï</button>
      </div>
    </div>
  </div>

  <div class="suggestions-list">
    <div *ngFor="let suggestion of filteredSuggestions" class="suggestion-card">
      <h3 class="suggestion-title">{{ suggestion.title }}</h3>
      
      <div class="suggestion-meta">
        <span class="category">{{ suggestion.category }}</span>
        <span class="date">{{ formatDate(suggestion.date) }}</span>
      </div>
      
      <p class="suggestion-description">{{ suggestion.description }}</p>
      
      <div class="suggestion-status">
        <span [class]="'status-badge ' + getStatusClass(suggestion.status)">
          {{ getStatusLabel(suggestion.status) }}
        </span>
      </div>
      
      <div *ngIf="suggestion.status !== 'refusee'" class="suggestion-actions">
        <button 
          class="btn-like" 
          (click)="likeSuggestion(suggestion)">
          <span class="icon">üëç</span>
          Like {{ suggestion.nbLikes }}
        </button>
        <button 
          class="btn-favorite" 
          [class.in-favorites]="isInFavorites(suggestion)"
          (click)="addToFavorites(suggestion)"
          [disabled]="isInFavorites(suggestion)">
          <span class="icon">‚ù§Ô∏è</span>
          {{ isInFavorites(suggestion) ? 'Dans les favoris' : 'Ajouter aux favoris' }}
        </button>
      </div>
    </div>
  </div>
</div>
